
<!-- Page count variable -->
<% @pages_count = @pagy.pages %>

<div class="movies">

  <!-- Filter -->
  <%= render partial: 'movies/partial/filter-bar' %>

  <!-- Pagination -->
  <div class="pagy-nav-wrapper">
    <%== pagy_nav(@pagy) if @pages_count > 1 %>
  </div>

  <!-- If Movies os not found -->
  <% unless @movies.any? %>
    <h2 style="text-align: center">Ничего не найдено</h2>
  <% end %>

  <div class="movies-grid">
    <% @movies.each do |movie| %>
      <%= render partial: 'movies/partial/movie-card', locals: { object: movie } %>
    <% end %>
  </div>

  <!-- Pagination -->
  <div class="pagy-nav-wrapper">
    <%== pagy_nav(@pagy) if @pages_count > 1  %>
  </div>

</div>